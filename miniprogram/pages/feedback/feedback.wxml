<!--feedback.wxml-->
<scroll-view class="scrollarea" scroll-y type="list">
  <!-- 页面头部 -->
  <view class="feedback-header">
    <view class="header-content">
      <text class="header-title">反馈建议</text>
      <text class="header-subtitle">您的建议是我们前进的动力</text>
    </view>
  </view>

  <!-- 反馈类型选择 -->
  <view class="feedback-section">
    <view class="section-header">
      <text class="section-title">反馈类型</text>
      <text class="section-subtitle">请选择您要反馈的类型</text>
    </view>
    <view class="type-list">
      <view 
        class="type-item {{selectedType === item.id ? 'selected' : ''}}" 
        wx:for="{{feedbackTypes}}" 
        wx:key="id"
        bindtap="onSelectType"
        data-type="{{item.id}}"
        data-name="{{item.name}}"
      >
        <view class="type-icon">
          <icon type="{{item.icon}}" size="20" color="{{selectedType === item.id ? '#fff' : '#ff8fa3'}}"></icon>
        </view>
        <text class="type-text">{{item.name}}</text>
        <view class="type-check" wx:if="{{selectedType === item.id}}">
          <icon type="success" size="16" color="#fff"></icon>
        </view>
      </view>
    </view>
  </view>

  <!-- 反馈内容 -->
  <view class="feedback-section">
    <view class="section-header">
      <text class="section-title">反馈内容</text>
      <text class="section-subtitle">详细描述您遇到的问题或建议</text>
    </view>
    <view class="content-input">
      <textarea
        class="textarea"
        placeholder="请详细描述您的问题或建议，至少10个字符..."
        value="{{feedbackContent}}"
        bindinput="onContentInput"
        maxlength="500"
        show-confirm-bar="{{false}}"
        auto-height
      ></textarea>
      <view class="char-count">
        <text class="count-text">{{feedbackContent.length}}/500</text>
      </view>
    </view>
  </view>

  <!-- 联系方式（可选） -->
  <view class="feedback-section">
    <view class="section-header">
      <text class="section-title">联系方式</text>
      <text class="section-subtitle">可选，方便我们与您联系</text>
    </view>
    <view class="contact-input">
      <input
        class="input"
        placeholder="请输入您的邮箱或微信号（可选）"
        value="{{contactInfo}}"
        bindinput="onContactInput"
        maxlength="50"
      />
    </view>
  </view>

  <!-- 提交按钮 -->
  <view class="submit-section">
    <view class="button-group">
      <view class="clear-btn" bindtap="onClearForm">
        <text class="clear-text">清空</text>
      </view>
      <view 
        class="submit-btn {{submitting ? 'submitting' : ''}}" 
        bindtap="onSubmitFeedback"
      >
        <text class="submit-text">{{submitting ? '提交中...' : '提交反馈'}}</text>
      </view>
    </view>
  </view>

  <!-- 温馨提示 -->
  <view class="tips-section">
    <view class="tips-card">
      <view class="tips-header">
        <icon type="info" size="16" color="#ff8fa3"></icon>
        <text class="tips-title">温馨提示</text>
      </view>
      <view class="tips-content">
        <text class="tips-text">• 我们会认真对待每一条反馈</text>
        <text class="tips-text">• 通常在3-5个工作日内回复</text>
        <text class="tips-text">• 您的信息将严格保密</text>
        <text class="tips-text">• 反馈将发送至：museumseek@163.com</text>
        <text class="tips-text">• 感谢您对文博探索的支持</text>
      </view>
    </view>
  </view>

  <!-- 底部间距 -->
  <view class="bottom-spacing"></view>
</scroll-view>